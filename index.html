<script>
document.addEventListener('DOMContentLoaded', () => {
  const intro = document.getElementById('intro');
  const main = document.getElementById('main');
  const datePicker = document.getElementById('datePicker');
  const options = document.getElementById('options');
  const result = document.getElementById('result');
  const heart = document.getElementById('heart');
  const noButton = document.getElementById('noButton');

  // Intro â†’ main page
  window.startValentine = function () {
    intro.style.display = 'none';
    main.style.display = 'block';
  };

  // YES â†’ show date picker
  window.sayYes = function () {
    datePicker.style.display = 'block';
    launchConfetti();
  };

  // Date picked â†’ show activity options
  datePicker.addEventListener('change', () => {
    options.style.display = 'block';
  });

  // NO button dodges
  noButton.addEventListener('mouseenter', () => {
    const x = Math.random() * 200 - 100;
    const y = Math.random() * 120 - 60;
    noButton.style.transform = `translate(${x}px, ${y}px)`;
  });

  noButton.addEventListener('click', (e) => {
    e.preventDefault();
    noButton.textContent = 'Nice try ðŸ˜Œ';
  });

  // Final choice
  window.choose = function (activity) {
    const date = datePicker.value;
    result.innerHTML = `
      It's a date, Ena! ðŸ’•<br>
      <strong>${activity}</strong><br>
      on <strong>${date}</strong><br><br>
      <em>Screenshot this and send it to Erkan ðŸ’Œ</em>
    `;
    result.style.display = 'block';
    heart.style.display = 'block';
    options.style.display = 'none';
  };

  function launchConfetti() {
    for (let i = 0; i < 30; i++) {
      const confetti = document.createElement('div');
      confetti.innerText = 'ðŸŽ‰';
      confetti.style.position = 'fixed';
      confetti.style.left = Math.random() * 100 + 'vw';
      confetti.style.top = '-20px';
      confetti.style.fontSize = Math.random() * 20 + 16 + 'px';
      confetti.style.animation = 'fall 2s linear forwards';
      document.body.appendChild(confetti);
      setTimeout(() => confetti.remove(), 2000);
    }
  }
});
</script>
